: util/makedefs.c util/panic.c src/alloc.c src/objects.c src/monst.c |> cc -Iinclude %f -o %o |> makedefs
: makedefs |> ./makedefs |> src/monstr.c src/vis_tab.c include/onames.h include/filename.h include/date.h include/pm.h include/vis_tab.h dat/data dat/dungeon.pdf dat/options dat/quest.dat dat/rumors dat/oracles

: util/dgn_comp.y |> bison -d %f -o build/dgn_yacc.c; mv build/dgn_yacc.h include/dgn_comp.h; mv build/dgn_yacc.c src/ |> src/dgn_yacc.c include/dgn_comp.h
: util/dgn_comp.l |> flex -o %o %f |> src/dgn_lex.c
: util/lev_comp.y |> bison -d %f -o build/lev_yacc.c; mv build/lev_yacc.h include/lev_comp.h; mv build/lev_yacc.c src/ |> src/lev_yacc.c include/lev_comp.h
: util/lev_comp.l |> flex -o %o %f |> src/lev_lex.c


: foreach src/lev_yacc.c src/lev_lex.c src/dgn_yacc.c src/dgn_lex.c util/dgn_main.c util/dlb_main.c util/lev_main.c util/makedefs.c util/panic.c src/alloc.c src/decl.c src/dlb.c src/drawing.c src/objects.c src/monst.c | include/*.h |> cc -Iinclude -Ibuild/include -c %f -o %o |> %B.o


: dlb_main.o alloc.o panic.o dlb.o |> cc %f -o %o |> dlb

: lev_yacc.o lev_lex.o lev_main.o alloc.o panic.o drawing.o decl.o objects.o monst.o |> cc %f -o %o |> lev_comp
: dgn_yacc.o dgn_lex.o dgn_main.o alloc.o panic.o |> cc %f -o %o |> dgn_comp
