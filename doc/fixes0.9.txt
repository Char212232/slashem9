Changelist for slashem9 v0.9:
- Internals: obviate the following compile-time configurable options: SINKS, BLACKMARKET, D_SABER, LIGHTSABERS, P_SPOON, WALLET_O_P, EATEN_MEMORY, WALLIFIED_MAZE, AUTOPICKUP_EXCEPTIONS, YOEMAN, SEDUCE, KOPS, TOURIST, FIREARMS, EXP_ON_BOTL, SCORE_ON_BOTL, DWARF, ELBERETH, TEXTCOLOR, STATUS_COLORS, MENU_COLOR, SHOW_WEIGHT, SHOW_DMG, WIZARD, UNPOLYPILE, INVISIBLE_OBJECTS, OTHER_SERVICES, REDO, XLOGFILE, STEED, FREE_ALL_MEMORY, DISPLAY_LAYERS, REALTIME_ON_BOTL, CLIPPING, DUNGEON_GROWTH.  Where applicable, these can still be toggled at run time.
- Internals: lots of miscellaneous code cleanup, simplification, removal of indirection or conditionality, etc.
- Internals: change K&R-style function definitions to ANSI.  Require c99.  Use bool over boolean.
- Internals: remove support for many obsolete platforms and build configurations.  Basic requirements: ANSI c99 + win32 or posix-ish.
- Internals: remove the internal malloc implementation and heap monitor in favour of valgrind.
- Interface: remove all windowports except for tty.
- Development: allow slashem.sh to automatically launch debugging tools (gdb, lldb, valgrind), if the environment variable NH_USE_(GDB|LLDB|VALGRIND) is set.  It will pass $NH_(GDB|LLDB|VALGRIND)_FLAGS to the corresponding debugging tool.
- Interface: add UTF-8 graphics support.  Original code by Patric Mueller; heavy modifications have been made.
- Interface: remove DEC and IBM graphics; the only graphics sets available are ascii, utf8, and utf8compat (using only characters that are part of wgl4), and these are now under a compound 'graphics' option.
- Interface: make curses support unicode graphics display.
- Interface: properly display unicode glyphs on topl and in inventory.
- Interface: recommend saving and reloading, rather than quitting, in impossible().
- Gameplay: re-enable the rogue level.
- Development: replace build system.  Currently requires GNU make; working on that.
- Internals: remove support for save compression, both internal routines and shelling out to an external compressor.
- System: remove FILE_AREAS.
- Internals: store gold on object chains.
- Bugfix: YAFM was supposed to show, but didn't, when player rubs gold on a stone.
- Gameplay: make searching deterministic; you only have to search once to find what you're looking for.
- Internals: completely remove makedefs.  The tasks it performed have been accomplished with macro magic, shifted to runtime, or, in some cases, removed entirely.
- Gameplay: lower duration of hallucination from potions to only 50-55, 50-105, or 50-155 turns (depending on BUC).
- Interface: use symbols from EPYX rogue on rogue level.
- System: allow DLB to optionally use a library stored inside the slashem binary, removing the need for external data files.
- Internals: add a custom dynamic string library with associated colour information.  Use it to implement statuscolors/botl.  It will be used for most of our strings in the future.
- Bugfix: with USE_FCNTL enabled, the lock file was opened but never closed.
- Bugfix: memory leak in curses.
- Bugfix: under curses with perm_invent enabled, if an inventory item was longer than the width of the inventory window, it could continue onto the next line.
- Interface: remove autoquiver.
- Gameplay: move gnomish mines to dlvl 3-4, from 2-4.
- Interface: a common technique for identification of wands is to engrave with them on top of an existing engraving; the message produced will either uniquely identify the wand of confine it to one of a small number.  When doing so would uniquely identify the wand, formally identify it as well.
- Internals: remove reliance on the system for a regex engine, and instead vendor one ourselves (libtre).
- Gameplay: gypsies can no longer be farmed for wishes.  Gypsies generated via reverse genocide are 'tainted' and will not grant wishes.
- Bugfix: artifact naming.  The rules here are a bit different from in other games in the family: a name is only prohibited to be attached to an object where either there exists an artifact whose name is that name and whose base object is that object, or where adherence to the previous rule would leak information.
- Bugfix: when the player's hand slipped while naming an object with the name of an artifact, the name was changed to the proper name of the artifact plus a typo, rather than the actual player-inputted name plus a typo.
- Bugfix: player was able to eat food from the floor of a pit while teetering at its edge.
- Interface: get a nice death message when you die by jumping into a pit you made.
- Bugfix: wording: when a ridden steed is led onto a polymorph trap and polymorphs into another rideable form, you have to adjust yourself in the saddle on on 'the' (monster-type), not 'a'.
- Bugfix: passwall player couldn't pick up objects from pit (fixed by making them always fall in, but suffer no ill effects).
- Gameplay: an alchemical smock will protect you from alchemical blasts.
- Bugfix: segfault could occur when explosion was thrown near the edge of the map screen.
- Gameplay: when monks got the message 'Your armor is rather cumbersome...', their attack power would be boosted rather than reduced.
- Interface: monks only get the 'Your armor is rather cumbersome...' message when that encumberance actually caused them to miss.
- Interface: remove support for WIN32CON.
- Bugfix: grammar in enlightenment messages when intrinsically warned of certain species.
- Interface: use regex rather than pattern matching in autopickup exceptions.
- Internals: use regex rather than pattern matching for database entries.
- Bugfix: encyclopedia entry for Ruggo the Gnome King.
- Bugfix: potion of sickness made you lose HP even if you were poison resistant.
- Gameplay: #monster while vampshifted will always restore you to your vampiric form.
- Bugfix: inventory display when inventory is empty and perm_invent is on says 'not carrying anything' rather than just '(end)'.

Imports from NetHack versions newer than 3.4.3:
- Bugfix: acid dropping bug.
- Bugfix: deallocated wielded objects.
- Bugfix: water punishment crash (NetHack/Slash'EM Extended).
- Internals: change dumplog implementation to be much cleaner.
- Bugfix: engravings made on drawbridge would appear on floor beneath.  Fixed by removing all engravings on drawbridge tile whenever it is opened, closed, or wrecked.
- Bugfix: 'You hear The <x> tumbles downwards' when dropping an item into a pit while blind and standing on the edge.
- Bugfix: wielded silver arrows didn't always deal silver damage.
- Bugfix: playercould sit down on items contained in a pit while teetering at its edge.
- Bugfix: message when you pushed a boulder into a pool of water while riding said that you filled it, rather than your steed.
- Gameplay: can use '>' to jump into a pit while teetering at its edge.
- Bugfix: when you lead a named steed into a trap while hallucinating, since the name is elided, elide also the article 'the'.
- Interface: when prompted for a direction, '?' shows help and prompts again.
- Gameplay: instead of printing 'It turns into it', smell what kind of 'it' it was, assuming you can.
- Gameplay: don't allow using non-magical whistles underwater.
- Gameplay: don't allow using whistles and musical instruments when in a form that blow.
- Gameplay: monster lifesaving messages.  Don't print a message about the monster reviving if the monster is invisible.  Don't mention the amulet if it's invisible.  (You do see a visible amulet on an invisible monster because it glows.)
- Interface: use proper article in message when eating artifact.
- Bugfix: potions of acid dipped into fountains were not always used up.  Toilets were not affected.
- Interface: if your blindfold/towel glows while you're wearing it and it's the only thing keeping you from seeing, you see that glow.
- Bugfix: tripping over a cockatrice corpse while not wearing boots did not petrify the player.
- Bugfix: proper death messages when multiple delayed deaths are in play at once.
- Bugfix: when wearing the eyes of the overworld while trapped in a dust vortex, player got a message every turn about being blinded and then their vision clearing.
- Gameplay: lighting shops now stock oil.
- Interface: right-clicking on a tile will show what that tile is.
- Gameplay: add the #tip command.
- Gameplay: you can quiver gold.
- Internals: move various global flags and state into a context struct.
- Gameplay: hearing is now a full-fledged attribute, like sight.
- Gameplay: artificial ice will eventually melt away.  Warning will notify you if the ice is about to melt.
- Interface: replace the 'stop eating' prompts with 'continue eating', default no.
- Bugfix: make half physical damage work in many places it didn't.
- Bugfix: allow player to throw a spell (e.g. cone of cold, fireball) at a monster seen only with infravision/telepathy.
- Bugfix: don't say 'it moves only reluctantly' (referring to pet).
- Bugfix: bad capitalization of message when charged by shk for something that catches fire.
- Bugfix: when fruitname=lotus, don't say fruit juice tastes like lotu juice.
- Bugfix: non-humanoid angelic minions got swords and armour.
- Gameplay: paper, straw, wood, plastic, and gold golems resist cold.
- Gameplay: player can use a touchstone on gold.
- Gameplay: if engulfed in vortex and blind only because of a blindfold, taking off the blindfold should cause blindness to take effect immediately.
- Gameplay: unihorn|prayer won't cure blindness if engulfed in a vortex, because it'll just return immediately.
- Gameplay: confused reading of cursed charging scroll drains energy.
- Interface: new rumors, oracles, encyclopedia entries, and other random messages.
- Gameplay: healers [and undead slayers] will notice when a wand of undead turning revives a monster.
- Gameplay: you can wish for tins of specific types (e.g. tin of deep fried orc).
- Bugfix: display was not correctly updated if you received a spellbook from your god while unable to see your invisible self.
- Interface: can generate random monster in debug mode with '*'.
- Interface: acknowledge Schroedinger's cat at the end of the game, if you have a box containing it.
- Gameplay: pets will mimic if they eat a mimic corpse.
- Gameplay: add a health food store, which contains exclusively vegetables.  It replaces the food store in minetown for monks.
- Gameplay: certain monsters (currently only the three horseman) can move other monsters out of their way.
- Bugfix: grammar fixes when applying stethoscope to inanimate corpses and statues.
- Bugfix: trappers hid on the ceiling.
- Bugfix: player hiding on ceiling did not drop to the floor when #sitting.
- Bugfix: if a monster carrying a boulder was inside of a pit or a hole when killed, the boulder would fill the pit/hole but the monster's corpse would not be buried.
- Gamplay: player in certain polyforms will be intrinsically warned of some monsters.
- Bugfix: swamps on Juiblex's level were called 'moat' when frozen.
- Bugfix: greased would slide, if kicked while on the planes of air or water.
- Bugfix: grammar: use 'removing' rather than 'lifting' when asking player if they really want to remove heavy items from their bag of holding.
- Bugfix: when a cursed scroll of destroy armor lowered the enchantment of e.g. gauntlets of dexterity or helm of brilliance, the associated attribute didn't also decrease.
- Bugfix: if hitting a cockatrice with a mirror or expensive camera resulted in the object shattering, the player would be stoned.
- Bugfix: if a blind levitating player attempted to go downstairs, they would be told they were floating above the stairs, even if they had never seen the stairs.
- Bugfix: if a slow-moving monster was hiding under a corpse when it rotted, the monster was not displayed immediately.
- Bugfix: mimic on the rogue level in a doorway would imitate a closed door, even though rogue has no closed doors.
- Bugfix: sometimes, shapeshifted or polymorphed monsters would get the wrong number of hit points.
- Bugfix: monsters weren't using some teleport traps they should have.
- Bugfix: cleric casting lighting at player didn't blind player.
- Interface: when a monster is wielding multiple daggers, say they thrust 'one of' them, not all of them.
- Interface: if you didn't see a rolling boulder fall into a pit, you would only hear about it if you were blind.
- Gameplay: rocks can skip over water.
- Gameplay: pits created by wands of digging and drums of earthquake will get filled in by water or lava from the surrounding area, just like player-created pits.
- Gameplay: breakable objects that fall through trapdoors/holes have a chance to break upon landing on the lower level.
- Gameplay: player in vampiric form can use #monster to transform into a fog cloud, wolf, or vampire bat.
- Interface: only say '(the djinni) vanishes' if player can see the djinni.
- Gameplay: ensure a djinni released with the message 'you disturbed me, fool' is always hostile.

Imports from other locations:
- Interface: add curses windowport (Karl Garrison).
- System: add extended logfile/xlogfile with more information than standard log file (Aardvark Joe).  Also remove logfile.
- Interface: show object glyphs in inventory display (Patric Mueller).
- Interface: highlight object piles and stairs covered by objects (Pasi Kallinen).
- Interface: add MSGTYPES, which allow for user-configurable filtering, emphasis, or norep of messages (Pasi Kallinen).  Also use regex instead of pattern matching.
- Interface: allow users to specify colours for dungeon features (Patric Mueller).
- Bugfix: '???' could show up in regular gameplay (Fredrik Ljungdahl).
- Interface: show dark--but visited/known--room tiles on the screen (Clive Crous).
- Interface: allow key rebinding (Jason Dorje Short).
- Interface: add heavily modified version of statuscolors (Shachaf and Oren Ben-Kiki) + hitpointbar (Patric Mueller).
- Development: add a fuzzer (Pasi Kallinen).
- Bugfix: calm steed technique (Slash'EM Extended).
- Bugfix: crash bug in tty when an item's description was just less than the window width, but description + accelerator + glyph + padding was just more than said width (Tangles).
- Bugfix: torch panic (Slash'EM Extended).
- Bugfix: lightning-resistant monsters could be affected by lightning (Slash'EM Extended).
- Interface: show spell memory in cast menu (inspired by Slash'EM Extended).
- Internals: use a high-quality cryptographic random number generator (Mikko Juola and libtomcrypt).  This should hopefully thwart stunts like SWAGINZZZ (see https://pellsson.github.io/).
- Bugfix: when items disappear from a cursed bag of holding, it may not take up a turn; and, if it causes the player to become unencumbered, they may not get a message or statusbar change until the following turn (Michael Lehotay).
- Gameplay: to prevent abuse, bones are not saved on levels which were hung up on (Dr. Alex Smith).
- Bugfix: when dying to an undead, it was disclosed whether bones were created (Dr. Alex Smith).
- Bugfix: C343-162: magicbane hit messages could use the wrong pronouns (Ray Chason).
- Bugfix: C343-324: long worm crash fix (Patric Mueller).
- Interface: incorporate quiver_fired (Jukka Lahtinen).
- Interface: at the end of the game, show counts of extinct monsters next to genocided; birth counts next to kill counts (Jukka Lahtinen).
- Interface: add wall colouration for different dungeon branches and special rooms (L).
- Interface: add the overview patch, which adds two new extended commands: #overview, which shows an overview of the layout of the dungeon levels the player has explored, and #annotate, which allows the player to make a mental note which is associated with the current level (Hojita Discordia).
